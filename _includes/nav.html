<!-- Minimal Top Navigation -->
<nav class="minimal-nav" id="minimalNav">
    <div class="nav-container">
        <!-- Logo Only -->
        <div class="nav-brand">
            <a href="/" class="brand-link">
                <div class="brand-logo">
                    <i class="fa fa-flask"></i>
                </div>
                <span class="brand-name" id="brandName">Prosody Labs</span>
            </a>
        </div>

        <!-- Simple Action Button -->
        <div class="nav-actions" style="display:flex; align-items:center; gap:16px;">
            {% if page.url == '/' %}
            <button class="btn-login" type="button" id="yarnCta">
                <i class="fa fa-comment"></i>
                <span>Yarn waitlist</span>
            </button>
            {% endif %}
        </div>
    </div>
</nav>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const brandName = document.getElementById('brandName');
        const yarnCta = document.getElementById('yarnCta');
        const scrollThreshold = 100;

        function handleScroll() {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;

            if (scrollTop > scrollThreshold) {
                if (brandName) {
                    brandName.style.opacity = '0';
                    brandName.style.transform = 'translateX(-10px)';
                }
            } else {
                if (brandName) {
                    brandName.style.opacity = '1';
                    brandName.style.transform = 'translateX(0)';
                }
            }
        }

        window.addEventListener('scroll', handleScroll);

        if (yarnCta) {
            yarnCta.addEventListener('click', function () {
                const yarnSection = document.getElementById('yarn-section');
                if (yarnSection) {
                    yarnSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                } else {
                    window.location.href = '/#yarn-section';
                }
            });
        }
    });
</script>
