<!-- Minimal Top Navigation -->
<nav class="minimal-nav" id="minimalNav">
    <div class="nav-container">
        <!-- Logo Only -->
        <div class="nav-brand">
            <a href="/" class="brand-link">
                <div class="brand-logo">
                    <i class="fa fa-flask"></i>
                </div>
                <span class="brand-name" id="brandName">Prosody Labs</span>
            </a>
        </div>

        <!-- Simple Login Button -->
        <div class="nav-actions" style="display:flex; align-items:center; gap:16px;">

            <!-- Light/dark theme to be implemented later -->
            <!-- <button aria-label="Toggle theme" onclick="toggleTheme()"
                style="background:none; border:none; font-size:18px; cursor:pointer; color:inherit;">
                <i class="fa fa-adjust"></i>
            </button> -->
            {% if page.url == '/' %}
            <button class="btn-login">
                <i class="fa fa-sign-in-alt"></i>
                <span>Log in</span>
            </button>
            {% endif %}
        </div>
    </div>
</nav>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const homeLink = document.getElementById('homeLink');
        const brandName = document.getElementById('brandName');
        let lastScrollTop = 0;
        const scrollThreshold = 100; // Hide brand name after scrolling 100px

        // Scroll handler to hide/show brand name
        function handleScroll() {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;

            if (scrollTop > scrollThreshold) {
                // Scrolled down - hide brand name
                if (brandName) {
                    brandName.style.opacity = '0';
                    brandName.style.transform = 'translateX(-10px)';
                }
            } else {
                // Scrolled back to top - show brand name
                if (brandName) {
                    brandName.style.opacity = '1';
                    brandName.style.transform = 'translateX(0)';
                }
            }

            lastScrollTop = scrollTop;
        }

        // Add scroll event listener
        window.addEventListener('scroll', handleScroll);

        // Home link functionality
        if (homeLink) {
            homeLink.addEventListener('click', function (e) {
                e.preventDefault();
                // Use the global navigation function if available
                if (window.prosodyNavigation && window.prosodyNavigation.showSection) {
                    window.prosodyNavigation.showSection('splash-screen');
                } else {
                    // Fallback: scroll to top and show splash
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    document.querySelectorAll('.splash-screen, .collage-section, .detail-section').forEach(section => {
                        section.classList.add('hidden');
                    });
                    const splashSection = document.getElementById('splash-screen');
                    if (splashSection) {
                        splashSection.classList.remove('hidden');
                    }
                }
            });
        }
    });
</script>