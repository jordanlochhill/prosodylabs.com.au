<!-- Mobile navigation toggle -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const navToggle = document.querySelector('.nav-toggle');
        const navMenu = document.querySelector('.nav-actions');

        if (navToggle && navMenu) {
            navToggle.addEventListener('click', function () {
                const isExpanded = navToggle.getAttribute('aria-expanded') === 'true';

                navToggle.setAttribute('aria-expanded', !isExpanded);
                navMenu.classList.toggle('open');

                // Prevent body scroll when menu is open
                document.body.style.overflow = !isExpanded ? 'hidden' : '';
            });

            // Close menu when clicking outside
            document.addEventListener('click', function (event) {
                if (!navToggle.contains(event.target) && !navMenu.contains(event.target)) {
                    navToggle.setAttribute('aria-expanded', 'false');
                    navMenu.classList.remove('open');
                    document.body.style.overflow = '';
                }
            });

            // Close menu on escape key
            document.addEventListener('keydown', function (event) {
                if (event.key === 'Escape') {
                    navToggle.setAttribute('aria-expanded', 'false');
                    navMenu.classList.remove('open');
                    document.body.style.overflow = '';
                    navToggle.focus();
                }
            });

            // Close menu when clicking on nav links
            const navLinks = navMenu.querySelectorAll('.nav-link, .nav-button');
            navLinks.forEach(link => {
                link.addEventListener('click', function () {
                    navToggle.setAttribute('aria-expanded', 'false');
                    navMenu.classList.remove('open');
                    document.body.style.overflow = '';
                });
            });
        }
    });
</script>