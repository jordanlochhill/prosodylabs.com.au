<section id="projects-gallery">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 text-center">
                <h2 class="section-heading">Our Projects</h2>
                <hr class="primary">
                <p class="project-description">
                    Explore our innovative AI projects and research initiatives
                </p>
            </div>
        </div>

        {% assign all_projects = site.projects | sort: 'date' | reverse %}

        {% if all_projects.size > 0 %}
        <div class="row">
            {% for project in all_projects %}
            <div class="col-lg-4 col-md-6 col-sm-6 project-gallery-item">
                <div class="project-gallery-card">

                    {% if project.hero_image %}
                    <div class="project-gallery-image"
                        style="background-image: url('{{ project.hero_image | relative_url }}');">
                        {% else %}
                        <div class="project-gallery-image placeholder">
                            <i class="fa fa-lightbulb-o"></i>
                            {% endif %}

                            <!-- Overlay -->
                            <div class="project-overlay">
                                <div class="overlay-content">
                                    <div class="overlay-actions">
                                        <a href="{{ project.url | relative_url }}" class="btn btn-primary btn-sm">
                                            <i class="fa fa-info-circle"></i> Details
                                        </a>
                                        {% if project.demo_url %}
                                        <a href="{{ project.demo_url }}" class="btn btn-outline btn-default btn-sm"
                                            target="_blank">
                                            <i class="fa fa-external-link"></i> Demo
                                        </a>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Project Info -->
                        <div class="project-info">
                            <div class="project-header">
                                <h4>
                                    <a href="{{ project.url | relative_url }}">
                                        {{ project.title }}
                                    </a>
                                </h4>
                                {% if project.status %}
                                <span class="label status-{{ project.status | downcase }}">
                                    {{ project.status }}
                                </span>
                                {% endif %}
                            </div>

                            {% if project.subtitle %}
                            <p class="project-subtitle">
                                {{ project.subtitle }}
                            </p>
                            {% endif %}

                            <p class="project-description">
                                {% if project.excerpt %}
                                {{ project.excerpt | strip_html | truncatewords: 20 }}
                                {% else %}
                                {{ project.content | strip_html | truncatewords: 20 }}
                                {% endif %}
                            </p>

                            {% if project.tech_stack %}
                            <div class="tech-stack">
                                {% for tech in project.tech_stack limit:4 %}
                                <span class="tech-badge">
                                    {{ tech }}
                                </span>
                                {% endfor %}
                                {% if project.tech_stack.size > 4 %}
                                <span class="tech-badge more-badge">
                                    +{{ project.tech_stack.size | minus: 4 }} more
                                </span>
                                {% endif %}
                            </div>
                            {% endif %}

                            <div class="project-actions">
                                <a href="{{ project.url | relative_url }}" class="btn btn-outline btn-default">
                                    Learn More <i class="fa fa-arrow-right"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            {% else %}
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 text-center">
                    <div class="project-empty-state">
                        <i class="fa fa-lightbulb-o"></i>
                        <h4>We're Just Starting Out</h4>
                        <p>
                            We're just starting outâ€”check back later or if you'd like to collaborate on an interesting
                            idea, reach out.
                        </p>
                        <a href="#contact" class="btn btn-primary page-scroll">
                            <i class="fa fa-envelope"></i> Let's Collaborate
                        </a>
                    </div>
                </div>
            </div>
            {% endif %}

            <!-- View All Projects Button -->
            <div class="row">
                <div class="col-lg-12 project-archive-btn">
                    <a href="{{ '/projects.html' | relative_url }}" class="btn btn-primary btn-xl">
                        View Project Archive <i class="fa fa-folder-open"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>